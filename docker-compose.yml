version: '3'
services:
    genome-api:
        build: .
        image: genome-api
        command: genome-api
        ports:
            - "8081:8081"
    swagger-ui:
        container_name: swagger-ui
        image: swaggerapi/swagger-ui
        ports:
            - "8080:8080"
        environment:
          - API_URL=genome-api/swagger.json
    neo4j_db:
        container_name: neo4j_db
        image: neo4j
        ports:
            - "7474:7474"
            - "7687:7687"
        volumes:
            - ${HOME}/genome-api/neo4j-persist/${GENOME_ENV}/data:/data:cached
            - ${HOME}/genome-api/neo4j-persist/${GENOME_ENV}/logs:/logs:cached
        environment:
            - NEO4J_AUTH=none